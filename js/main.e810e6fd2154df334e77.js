(()=>{"use strict";var e={360:(e,t,a)=>{var n=a(378),r=a(542);const s=function(e){return n.createElement("select",{className:e.className,defaultValue:e.defaultValue,onChange:e.onChange},n.createElement("option",{value:"getselect"},"Выберите базу"),n.createElement("option",{value:"small"},"Малая база"),n.createElement("option",{value:"big"},"Большая база"))};const l=function(e){return n.createElement("tr",{className:e.className,data_id:e.data_id,onClick:e.onClick},n.createElement("td",null,e.id),n.createElement("td",null,e.firstName),n.createElement("td",null,e.lastName),n.createElement("td",null,e.email),n.createElement("td",null,e.phone))};function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,s=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,s=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw s}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}const o=function(e){var t=i((0,n.useState)(!0),2),a=t[0],r=t[1];return n.createElement("thead",null,n.createElement("tr",{onClick:function(){return r(!a)}},e.colNames.map((function(t,r){return n.createElement("th",{key:r,scope:"col",data_sort:a?"asc":"desc",onClick:e.filter},t)}))))};const u=function(e){return n.createElement(n.Fragment,null,n.createElement("table",{className:e.className},n.createElement(o,{colNames:e.colNames,filter:e.filter}),n.createElement("tbody",null,e.isBig?e.base[e.currentPage].map((function(t,a){return n.createElement(l,{className:"clickable",onClick:e.getPerson,key:a,data_id:a,id:t.id,firstName:t.firstName,lastName:t.lastName,email:t.email,phone:t.phone})})):e.base.map((function(t,a){return n.createElement(l,{className:"clickable",onClick:e.getPerson,key:a,data_id:a,id:t.id,firstName:t.firstName,lastName:t.lastName,email:t.email,phone:t.phone})})))))};const m=function(e){return n.createElement("button",{id:e.id,className:e.className,value:e.value,onClick:e.onClick},e.text)};const d=function(e){return n.createElement(n.Fragment,null,n.createElement("form",{id:e.id,className:e.className,onSubmit:e.submitHandle,onChange:e.checkInputs},e.form.map((function(e,t){return n.createElement("label",{key:t},n.createElement("input",{className:"form-control",type:e.type,name:e.name,placeholder:e.name,pattern:e.pattern}))})),n.createElement("div",{className:"col-auto"},e.disabled?n.createElement(m,{className:"btn btn-primary",value:"submit",text:"Добавить",disabled:!0}):n.createElement(m,{className:"btn btn-primary",value:"submit",text:"Добавить"}))))};const f=function(e){return n.createElement("nav",{"aria-label":"Page navigation example"},n.createElement("ul",{className:"pagination"},e.pages.map((function(t,a){return n.createElement("li",{key:a,className:"page-item",onClick:e.clickHandler},n.createElement("span",{className:"page-link"},t+1))}))))};const p=function(e){return n.createElement(n.Fragment,null,n.createElement("div",{className:"card",style:{width:"18rem"}},n.createElement("div",{className:"card-body"},"Выбран Пользователь:",n.createElement("h5",{className:"card-title"},e.person.firstName+" "+e.person.lastName),"Описание:",n.createElement("p",{className:"card-text"},""!=e.person.description?e.person.description:""),e.person.address?n.createElement(n.Fragment,null,"Адрес проживания:",n.createElement("p",{className:"card-text"},e.person.address.streetAddress),"Город:",n.createElement("p",{className:"card-text"},e.person.address.city),"Провинция/штат:",n.createElement("p",{className:"card-text"},e.person.address.state),"Индекс:",n.createElement("p",{className:"card-text"},e.person.address.zip)):n.createElement(n.Fragment,null,"Адрес проживания:",n.createElement("p",{className:"card-text"}),"Город:",n.createElement("p",{className:"card-text"}),"Провинция/штат:",n.createElement("p",{className:"card-text"}),"Индекс:",n.createElement("p",{className:"card-text"})))))};function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=E(e);if(t){var r=E(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return v(this,a)}}function v(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(i,e);var t,a,r,l=g(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=l.call(this)).state={small:"http://www.filltext.com/?rows=32&id={number|1000}&firstName={firstName}&lastName={lastName}&email={email}&phone={phone|(xxx)xxx-xx-xx}&address={addressObject}&description={lorem|32}",big:"http://www.filltext.com/?rows=1000&id={number|1000}&firstName={firstName}&delay=3&lastName={lastName}&email={email}&phone={phone|(xxx)xxx-xx-xx}&address={addressObject}&description={lorem|32}",selectVal:"getselect",form:[{name:"id",type:"text",pattern:"^[ 0-9]+$"},{name:"firstName",type:"text",pattern:"^[A-zА-яЁё]+$"},{name:"lastName",type:"text",pattern:"^[A-zА-яЁё]+$"},{name:"email",type:"email",pattern:"^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$"},{name:"phone",type:"tel",pattern:"^[ 0-9]+$"}],thead:["id","firstName","lastName","email","phone"],selectedBase:"",buttonText:["Показать","Загрузка..."],MAX_ROWS:50,isBig:!1,pages:"",currentPage:"0",showTable:!1,renderedBase:"",isSelected:"",selectedPerson:"",disabled:!0,isCollapse:!0},e}return t=i,(a=[{key:"setBase",value:function(e){var t=this,a=e.target.value,n=this.state[a],r=document.getElementById("btn");r.setAttribute("disabled","disabled"),r.textContent=this.state.buttonText[1],fetch(n).then((function(e){return e.json()})).then((function(e){t.setState({selectedBase:e}),r.removeAttribute("disabled"),r.textContent=t.state.buttonText[0]}))}},{key:"checkBase",value:function(){this.state.selectedBase.length>this.state.MAX_ROWS?(this.setState({isBig:!0}),this.splitBase()):this.setRenderedBase()}},{key:"setRenderedBase",value:function(){this.setState((function(e){return{renderedBase:e.selectedBase}}))}},{key:"getPages",value:function(){for(var e=this.state.selectedBase.length,t=[],a=0;a*this.state.MAX_ROWS<e;a++)t.push(a);this.setState({pages:t})}},{key:"setCurrentPage",value:function(e){var t=e.target.textContent-1;this.setState({currentPage:t})}},{key:"showTable",value:function(){this.getPages(),this.checkBase(),this.setState({showTable:!0})}},{key:"splitBase",value:function(){for(var e=[],t=this.state.selectedBase,a=this.state.MAX_ROWS,n=0;n<Math.ceil(t.length/a);n++)e[n]=t.slice(n*a,n*a+a);this.setState({renderedBase:e})}},{key:"filterBase",value:function(e){var t=Array.from(this.state.selectedBase),a=e.target.textContent,n=e.target.getAttribute("data_sort");"id"===a&&("asc"===n?t.sort((function(e,t){return e[a]-t[a]})):t.sort((function(e,t){return t[a]-e[a]}))),"firstName"!==a&&"lastName"!==a&&"email"!==a||t.sort((function(e,t){var r=e[a].toLowerCase(),s=t[a].toLowerCase();return"asc"===n?r<s?-1:r>s?1:0:s<r?-1:s>r?1:0})),"phone"===a&&t.sort((function(e,t){var r=e[a].match(/\d/g).join(""),s=t[a].match(/\d/g).join("");return"asc"===n?r-s:s-r})),this.setState({selectedBase:t}),this.showTable()}},{key:"checkInputs",value:function(){var e=document.getElementById("js-form");Array.from(e.elements).find((function(e){return""===e.value}))?this.setState({disabled:!0}):this.setState({disabled:!1})}},{key:"addPerson",value:function(e){e.preventDefault();var t=this.state.selectedBase,a=document.getElementById("js-form"),n=Array.from(a.elements),r=new Object;n.map((function(e){r[e.name]=e.value})),t.unshift(r),a.reset(),this.setState({selectedBase:t,disabled:!0,isCollapse:!this.state.isCollapse}),this.showTable()}},{key:"getPerson",value:function(e){var t=this,a=e.target.parentElement.getAttribute("data_id");(this.state.isBig?this.state.renderedBase[this.state.currentPage]:this.state.renderedBase).map((function(e,n){a==n&&t.setState({isSelected:!0,selectedPerson:e})}))}},{key:"toggleCollapse",value:function(){this.setState({isCollapse:!this.state.isCollapse})}},{key:"render",value:function(){return n.createElement(n.Fragment,null,n.createElement("div",{className:"container"},this.state.showTable?n.createElement(n.Fragment,null,n.createElement("p",null,n.createElement(m,{className:"btn btn-primary",onClick:this.toggleCollapse.bind(this),text:"Добавить"})),n.createElement("div",{className:this.state.isCollapse?"collapse":"collapse show",id:"collapseExample"},n.createElement(d,{id:"js-form",className:"container form",form:this.state.form,submitHandle:this.addPerson.bind(this),disabled:this.state.disabled,checkInputs:this.checkInputs.bind(this)})),n.createElement(u,{className:"table table-dark table-striped",base:this.state.renderedBase,currentPage:this.state.currentPage,isBig:this.state.isBig,filter:this.filterBase.bind(this),getPerson:this.getPerson.bind(this),colNames:this.state.thead}),this.state.isBig?n.createElement(f,{pages:this.state.pages,clickHandler:this.setCurrentPage.bind(this)}):"",this.state.isSelected?n.createElement(p,{person:this.state.selectedPerson}):""):n.createElement(n.Fragment,null,n.createElement(s,{className:"form-select form-select-lg mb-3",buttonText:this.state.buttonText,defaultValue:this.state.selectVal,onChange:this.setBase.bind(this)}),n.createElement(m,{id:"btn",className:"btn btn-primary",onClick:this.showTable.bind(this),text:this.state.buttonText[0]}))))}}])&&b(t.prototype,a),r&&b(t,r),i}(n.Component);r.render(n.createElement(N,null),document.querySelector("#app"))}},t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={exports:{}};return e[n](r,r.exports,a),r.exports}a.m=e,a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={179:0},t=[[360,542]],n=()=>{};function r(){for(var n,r=0;r<t.length;r++){for(var s=t[r],l=!0,i=1;i<s.length;i++){var c=s[i];0!==e[c]&&(l=!1)}l&&(t.splice(r--,1),n=a(a.s=s[0]))}return 0===t.length&&(a.x(),a.x=()=>{}),n}a.x=()=>{a.x=()=>{},l=l.slice();for(var e=0;e<l.length;e++)s(l[e]);return(n=r)()};var s=r=>{for(var s,l,[c,o,u,m]=r,d=0,f=[];d<c.length;d++)l=c[d],a.o(e,l)&&e[l]&&f.push(e[l][0]),e[l]=0;for(s in o)a.o(o,s)&&(a.m[s]=o[s]);for(u&&u(a),i(r);f.length;)f.shift()();return m&&t.push.apply(t,m),n()},l=self.webpackChunk=self.webpackChunk||[],i=l.push.bind(l);l.push=s})(),a.x()})();